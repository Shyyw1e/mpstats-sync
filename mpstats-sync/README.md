
# üìä mpstats-sync

Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ MPStats –≤ Google –¢–∞–±–ª–∏—Ü—É.  
–°–æ–∑–¥–∞–Ω –∫–∞–∫ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É (SKU).

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• –ß—Ç–µ–Ω–∏–µ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –∏–∑ Google Sheets (–≤–∫–ª–∞–¥–∫–∞ `–õ–µ—Å–∫–∞`, –∫–æ–ª–æ–Ω–∫–∞ `sku`)
- üîç –ü–æ–ª—É—á–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ API MPStats (–∏–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥, –µ—Å–ª–∏ API –Ω–µ –æ—Ç–¥–∞–µ—Ç)
- üß† –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü—É: `–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ`, `–¶–≤–µ—Ç`, `–î–ª–∏–Ω–∞` –∏ —Ç.–¥.
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–∞–¥–µ–Ω–∏–π: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- üîÅ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∫–ª–∞–¥–æ–∫ (`–õ–µ—Å–∫–∞`, `–ö–∞—Ç—É—à–∫–∞` –∏ —Ç.–¥.)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Shyyw1e/mpstats-sync.git
   cd mpstats-sync
    ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```

3. –ü–æ–¥–≥–æ—Ç–æ–≤—å `.env` —Ñ–∞–π–ª:

   ```
   MPSTATS_API_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω
   GOOGLE_APPLICATION_CREDENTIALS=mpstats-sync-XXXXXXX.json
   SPREADSHEET_ID=—Ç–≤–æ–π_id_—Ç–∞–±–ª–∏—Ü—ã
   ```

---

## üß™ –ó–∞–ø—É—Å–∫

```bash
python main.py
```

–°–∫—Ä–∏–ø—Ç —Å–∞–º:

* –ü—Ä–æ—á–∏—Ç–∞–µ—Ç –∞—Ä—Ç–∏–∫—É–ª—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
* –ü–æ–ª—É—á–∏—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å MPStats
* –ó–∞–ø–∏—à–µ—Ç –∏—Ö –æ–±—Ä–∞—Ç–Ω–æ –≤ Google Sheets

---

## üí° –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

–û–∂–∏–¥–∞–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤:

```
sku | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –î–ª–∏–Ω–∞ | –¢–æ–ª—â–∏–Ω–∞ –ª–µ—Å–∫–∏ | –í–∏–¥ –ª–µ—Å–∫–∏ | –ú–∞—Ç–µ—Ä–∏–∞–ª –ª–µ—Å–∫–∏ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ | –í–∏–¥ —Ä—ã–±—ã | –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –¶–≤–µ—Ç
```

–ù–∞ –≤–∫–ª–∞–¥–∫–µ `–õ–µ—Å–∫–∞` –∏–ª–∏ –¥—Ä—É–≥–æ–π, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –∫–æ–¥–µ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ sheets_client.py      # –†–∞–±–æ—Ç–∞ —Å Google Sheets API
‚îú‚îÄ‚îÄ mpstats_client.py     # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å MPStats (API)
‚îú‚îÄ‚îÄ parser.py             # Fallback-–ø–∞—Ä—Å–∏–Ω–≥ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ utils.py              # –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ google_auth.py        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Google API
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏–º!)
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üß∑ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

* –ï—Å–ª–∏ MPStats API –Ω–µ –æ—Ç–¥–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ HTML.
* –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`.env`, `*.json`) –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ Git —á–µ—Ä–µ–∑ `.gitignore`.

---

## üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è —Å–≤—è–∑–∏ [tg: @dimeqw](https://t.me/dimeqw) –∏–ª–∏ dimeqw@mail.ru

