MPStats-Sync

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å MPStats –∏ –∑–∞–ø–∏—Å–∏ –∏—Ö –≤ Google –¢–∞–±–ª–∏—Ü—É —á–µ—Ä–µ–∑ REST API, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Go + Python. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Docker –¥–ª—è –¥–µ–ø–ª–æ—è.

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mpstats-sync/
‚îú‚îÄ‚îÄ mpstats-sync/        # Python: main.py, main_reels.py, sheets_client.py –∏ —Ç.–¥.
‚îú‚îÄ‚îÄ rest-go/             # Go-—Å–µ—Ä–≤–µ—Ä (main.go)
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ Dockerfile           # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ mpstats-sync-*.json  # JSON-—Ç–æ–∫–µ–Ω –¥–ª—è Google Sheets API
```

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

```
docker build -t mpstats-rest .
docker run -d \
  -p 8080:8080 \
  --env-file .env \
  --name mpstats-rest \
  mpstats-rest
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```
curl http://localhost:8080/health
```

üîó REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```bash
curl -i -X POST http://your_server_ip/sync/lines
```
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–µ—Å–∫–∏

```bash
curl -i -X POST http://your_server_ip/sync/reels
```
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç—É—à–µ–∫

```bash
curl -v http://localhost:8080/health
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

üßæ .env (–ø—Ä–∏–º–µ—Ä)
```
MPSTATS_API_TOKEN=...
SPREADSHEET_ID=...
GOOGLE_APPLICATION_CREDENTIALS=...json
```
üñ± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google –¢–∞–±–ª–∏—Ü–µ–π

–í —Ç–∞–±–ª–∏—Ü–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Å MPStats. –ö–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–π Apps Script:
```js
function runSyncLines() {
  UrlFetchApp.fetch("http://your.server.ip:8080/sync/lines", {
    method: "post"
  });
}

function runSyncReels() {
  UrlFetchApp.fetch("http://your.server.ip:8080/sync/reels", {
    method: "post"
  });
}
```
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Google –¢–∞–±–ª–∏—Ü—ã, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –≤—Ä—É—á–Ω—É—é.


#üíº –ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–¥ –∑–∞–¥–∞—á—É –∑–∞–∫–∞–∑—á–∏–∫–∞ –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö (–ª–µ—Å–∫–∞ –∏ –∫–∞—Ç—É—à–∫–∏) –∏–∑ —Å–µ—Ä–≤–∏—Å–∞ MPStats –∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏—Ö –≤ Google –¢–∞–±–ª–∏—Ü—É.

–î–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é —Å–æ–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—É, —á—Ç–æ –∑–∞–Ω–∏–º–∞–ª–æ –¥–æ 10 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞–ª–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π –≤ Google –¢–∞–±–ª–∏—Ü–µ;

–¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å—è—Ç—Å—è –ø–æ SKU –∏–∑ MPStats;

—Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π;

–∫–æ–¥ –æ–±–µ—Ä–Ω—É—Ç –≤ REST API –∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –≤ Docker –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.

–ü—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä—É—á–Ω–æ–π —Ç—Ä—É–¥, —É—Å–∫–æ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—ã—Å–∏—Ç—å –∏—Ö —Ç–æ—á–Ω–æ—Å—Ç—å.

